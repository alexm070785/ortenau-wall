<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<meta name="theme-color" content="#e7e7e7">
<title>Kontakt ¬∑ Ortenau liefert</title>

<link rel="manifest" href="/manifest.webmanifest">
<link rel="icon" href="/favicon.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">

<style>
  :root{
    --accent:#e7e7e7; --text:#222; --bg:#f6f6f6; --card:#fff; --muted:#6b7280;
    --border:#dcdcdc; --radius:16px; --shadow:0 6px 20px rgba(0,0,0,.08); --tap:48px;
    --primary:#111827; --primary-600:#0f172a; --primary-contrast:#fff;
    --ring:#9db6ff;
  }
  *{box-sizing:border-box}
  html{font-size:16px}
  @media (max-width:480px){ html{font-size:17px} }
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;background:var(--bg);color:var(--text);padding-bottom:64px;line-height:1.55}
  a{color:#0b66c3;text-underline-offset:2px}
  .visually-hidden{position:absolute!important;width:1px;height:1px;margin:-1px;padding:0;overflow:hidden;clip:rect(0 0 0 0);white-space:nowrap;border:0}

  /* Header & Drawer */
  header.site{position:sticky;top:0;z-index:20;background:var(--accent);border-bottom:1px solid #b0b0b0;}
  .head{max-width:1100px;margin:0 auto;display:flex;align-items:center;justify-content:space-between;padding:10px 16px;}
  .logo img{height:52px}
  .hamburger{display:inline-flex;align-items:center;justify-content:center;width:44px;height:44px;border-radius:12px;background:#fff;border:1px solid var(--border);cursor:pointer}
  .hamburger svg{width:24px;height:24px}
  .backdrop{position:fixed;inset:0;background:rgba(0,0,0,.3);opacity:0;pointer-events:none;transition:opacity .2s;z-index:19}
  .backdrop.show{opacity:1;pointer-events:auto}
  .drawer{position:fixed;top:0;right:-300px;width:300px;height:100%;background:#fff;border-left:1px solid var(--border);box-shadow:-12px 0 30px rgba(0,0,0,.2);transition:right .25s;z-index:20;display:flex;flex-direction:column}
  .drawer.show{right:0}
  .drawer header{border-bottom:1px solid var(--border);padding:12px 16px;font-weight:700}
  .menu{padding:10px 12px;display:flex;flex-direction:column;gap:8px}
  .menu a{text-decoration:none;color:var(--text);padding:12px 14px;border-radius:12px;border:1px solid #eee;background:#fafafa}
  .menu a:hover{background:#f2f2f2}

  main{max-width:1000px;margin:18px auto;padding:0 16px;display:grid;gap:16px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:18px}
  h1{margin:0 0 10px;font-size:clamp(1.35rem,1.1rem + 1.2vw,1.8rem)}
  h2{margin:10px 0 10px;font-size:1.2rem}
  p{margin:8px 0}
  .muted{color:var(--muted)}

  /* Segmented Tabs */
  .tabs{display:flex;gap:10px;flex-wrap:wrap}
  .tab-btn{
    flex:1 1 260px; display:flex; align-items:center; justify-content:center;
    gap:10px; min-height:52px; border-radius:14px; cursor:pointer; border:1px solid var(--border);
    background:#f8f8f8; font-weight:600; transition:transform .1s, background .15s, border-color .15s;
  }
  .tab-btn svg{width:22px;height:22px}
  .tab-btn.active{background:#111827; color:#fff; border-color:#111827}
  .tab-btn:active{transform:scale(.99)}

  /* Form */
  form{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:10px}
  @media (max-width:760px){ form{grid-template-columns:1fr} }
  label{font-weight:600}
  .field{display:flex;flex-direction:column;gap:6px}
  input, textarea, select{
    width:100%; padding:12px 14px; border-radius:12px; border:1px solid #d5d5d5; background:#fff; font-size:1rem; min-height:44px;
    transition:border-color .15s, box-shadow .15s;
  }
  textarea{min-height:110px; resize:vertical}
  input:focus, textarea:focus, select:focus{ outline:none; border-color:var(--ring); box-shadow:0 0 0 4px rgba(157,182,255,.25) }
  .span-2{grid-column:1 / -1}
  .row{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  @media (max-width:760px){ .row{grid-template-columns:1fr} }
  .hint{font-size:.92rem;color:var(--muted)}
  .pill{display:inline-block;padding:4px 10px;border:1px solid #e5e7eb;border-radius:999px;background:#f9fafb;font-size:.9rem}

  /* Check blocks */
  .check{display:flex;gap:10px;align-items:flex-start;background:#fafafa;border:1px solid #e5e7eb;padding:10px 12px;border-radius:12px}
  .check input{width:auto;min-height:unset;margin-top:4px}

  /* Dropzone */
  .drop{grid-column:1 / -1; border:1.5px dashed #cfcfcf; border-radius:14px; background:#fcfcfc; padding:16px; text-align:center}
  .drop input[type=file]{display:none}
  .drop .inner{display:flex;align-items:center;justify-content:center;gap:12px;flex-wrap:wrap}
  .drop .inner svg{width:22px;height:22px}
  .drop.drag{background:#f4f7ff; border-color:var(--ring)}
  .files-list{margin-top:8px; text-align:left; font-size:.95rem; color:#374151}

  /* Actions */
  .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
  .btn{
    display:inline-flex;align-items:center;justify-content:center;gap:8px;
    padding:12px 16px; border-radius:12px; min-height:var(--tap); cursor:pointer; border:1px solid var(--primary-600);
    background:linear-gradient(180deg,#111827,#0f172a); color:var(--primary-contrast); font-weight:600; box-shadow:0 8px 24px rgba(17,24,39,.15);
  }
  .btn:active{transform:translateY(1px)}
  .btn.secondary{background:#fff;color:#111827;border:1px solid #d1d5db;box-shadow:none}
  .req{color:#ef4444; margin-left:4px}

  footer{position:fixed;bottom:0;left:0;width:100%;height:64px;background:var(--accent);color:#595959;border-top:1px solid #b0b0b0;font-size:.95rem}
  .footer-inner{max-width:1100px;margin:0 auto;height:100%;display:flex;justify-content:center;align-items:center;padding:0 12px}
</style>
</head>
<body>
<header class="site">
  <div class="head">
    <div class="logo"><a href="index.html" aria-label="Zur Startseite"><img src="header.png" alt="Ortenau liefert"></a></div>
    <button class="hamburger" id="menuBtn" aria-label="Men√º √∂ffnen"><svg viewBox="0 0 24 24"><path fill="#333" d="M3 6h18v2H3v-2zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"/></svg></button>
  </div>
</header>

<div class="backdrop" id="backdrop" hidden></div>
<aside class="drawer" id="drawer" role="dialog" aria-modal="true" aria-hidden="true">
  <header>Men√º</header>
  <nav class="menu">
    <a href="index.html">Startseite</a>
    <a href="kontakt.html" aria-current="page">Kontakt</a>
    <a href="impressum.html">Impressum</a>
    <a href="agb.html">AGB</a>
    <a href="datenschutz.html">Datenschutz</a>
  </nav>
</aside>

<main>
  <article class="card">
    <h1>Kontakt</h1>
    <p class="muted">W√§hle unten, was du vorhast: <span class="pill">Lokal eintragen</span> oder <span class="pill">Allgemeiner Kontakt</span>. Wir melden uns so schnell wie m√∂glich.</p>
    <div class="tabs" role="tablist" aria-label="Kontaktarten">
      <button class="tab-btn active" id="tab-lokal" role="tab" aria-controls="panel-lokal" aria-selected="true">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 2C8.1 2 5 5.1 5 9c0 5.2 7 13 7 13s7-7.8 7-13c0-3.9-3.1-7-7-7zm0 9.5c-1.4 0-2.5-1.1-2.5-2.5S10.6 6.5 12 6.5s2.5 1.1 2.5 2.5S13.4 11.5 12 11.5z"/></svg>
        Lokal eintragen
      </button>
      <button class="tab-btn" id="tab-kontakt" role="tab" aria-controls="panel-kontakt" aria-selected="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M20 2H4c-1.1 0-2 .9-2 2v16l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"/></svg>
        Allgemeiner Kontakt
      </button>
    </div>
  </article>

  <!-- PANEL: LOKAL EINTRAGEN -->
  <section class="card" id="panel-lokal" role="tabpanel" aria-labelledby="tab-lokal">
    <h2>üßæ Lokal eintragen lassen</h2>
    <p>Bitte f√ºlle die folgenden Angaben m√∂glichst vollst√§ndig aus. Du kannst eine <strong>Speisekarte (Bild oder PDF)</strong> mit hochladen.</p>

    <form name="lokal-eintrag" method="POST" action="/danke.html" data-netlify="true" netlify-honeypot="bot-field" enctype="multipart/form-data">
      <input type="hidden" name="form-name" value="lokal-eintrag">
      <input type="hidden" name="Seite" value="Kontakt ‚Äì Lokal eintragen">
      <p class="visually-hidden">
        <label>Bitte nicht ausf√ºllen: <input name="bot-field"></label>
      </p>

      <div class="field"><label for="betriebsname">Name des Lokals <span class="req">*</span></label>
        <input type="text" id="betriebsname" name="Betriebsname" required placeholder="z. B. Gen√ß D√∂ner & Pizza"></div>

      <div class="row">
        <div class="field"><label for="strasse">Stra√üe & Nr. <span class="req">*</span></label>
          <input type="text" id="strasse" name="Stra√üe" required placeholder="Hauptstra√üe 12"></div>
        <div class="field"><label for="plz">PLZ / Ort <span class="req">*</span></label>
          <input type="text" id="plz" name="PLZ / Ort" required placeholder="77704 Oberkirch"></div>
      </div>

      <div class="row">
        <div class="field"><label for="telefon">Telefon</label>
          <input type="text" id="telefon" name="Telefon" placeholder="+49 ‚Ä¶"></div>
        <div class="field"><label for="email">E-Mail</label>
          <input type="email" id="email" name="E-Mail" placeholder="info@beispiel.de"></div>
      </div>

      <div class="field"><label for="oeffnungszeiten">√ñffnungszeiten</label>
        <textarea id="oeffnungszeiten" name="√ñffnungszeiten" placeholder="Mo‚ÄìFr 11‚Äì22; Sa 12‚Äì23; So geschlossen"></textarea></div>

      <div class="field"><label for="schliesstage">Schlie√ütage / Hinweise</label>
        <input id="schliesstage" name="Schlie√ütage / Hinweise" placeholder="Feiertage geschlossen; Betriebsferien 1.‚Äì15. Aug."></div>

      <div class="field span-2"><label for="links">Links (Website, Instagram, Facebook, TikTok)</label>
        <textarea id="links" name="Links" placeholder="https://‚Ä¶  (jede URL in neuer Zeile)"></textarea></div>

      <div class="field span-2"><label for="beschreibung">Kurzbeschreibung</label>
        <textarea id="beschreibung" name="Kurzbeschreibung" placeholder="Was macht euren Laden besonders?"></textarea></div>

      <!-- Dropzone Upload -->
      <div class="drop" id="dropzone">
        <input type="file" id="fileInput" name="Speisekarte-Upload" accept="image/*,.pdf" multiple>
        <div class="inner">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18h14v2H5z"/></svg>
          <div><strong>Datei hierher ziehen</strong> oder <label for="fileInput" style="text-decoration:underline;cursor:pointer;">Datei ausw√§hlen</label><br>
          <span class="hint">Erlaubt: Bilder (JPG/PNG) oder PDF ¬∑ mehrere Dateien m√∂glich</span></div>
        </div>
        <div class="files-list" id="filesList" aria-live="polite"></div>
      </div>

      <!-- Einwilligungen / Rechtliches -->
      <div class="span-2 check">
        <input type="checkbox" id="consent-publish" name="Einwilligung Ver√∂ffentlichung" required>
        <label for="consent-publish">
          Ich bin Inhaber:in oder beauftragt und willige ein, dass die oben angegebenen Basisdaten (Name, Adresse, √ñffnungszeiten, Links, Beschreibung) auf <strong>Ortenau liefert</strong> ver√∂ffentlicht werden. Ich kann die Entfernung oder √Ñnderung jederzeit per E-Mail an <a href="mailto:info@ortenau-liefert.de">info@ortenau-liefert.de</a> verlangen.
        </label>
      </div>

      <div class="span-2 check">
        <input type="checkbox" id="consent-rights" name="Best√§tigung Rechte an Uploads" required>
        <label for="consent-rights">
          Ich best√§tige, dass ich die n√∂tigen Rechte an den hochgeladenen Dateien (z. B. Speisekarte, Bilder/Logos) besitze und keine Rechte Dritter verletze. Ich erteile eine einfache, widerrufliche Lizenz zur Nutzung auf dieser Plattform.
        </label>
      </div>

      <div class="span-2 check">
        <input type="checkbox" id="consent-privacy" name="Zustimmung Datenschutz & AGB" required>
        <label for="consent-privacy">
          Ich habe die <a href="datenschutz.html" target="_blank" rel="noopener">Datenschutzerkl√§rung</a> und die <a href="agb.html" target="_blank" rel="noopener">AGB</a> gelesen und stimme ihnen zu. Meine Daten werden ausschlie√ülich zur Bearbeitung dieser Anfrage verwendet.
        </label>
      </div>

      <!-- Netlify reCAPTCHA (optional) -->
      <div class="span-2"><div data-netlify-recaptcha="true"></div></div>

      <div class="actions span-2">
        <button type="submit" class="btn">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M2 21l21-9L2 3v7l15 2-15 2v7z"/></svg>
          Anfrage absenden
        </button>
        <button type="reset" class="btn secondary">Zur√ºcksetzen</button>
      </div>

      <p class="hint span-2">Hinweis: Es werden keine Marketing-Cookies gesetzt. Die Formular-Daten werden √ºber Netlify Forms √ºbertragen und dort sicher gespeichert. Du erh√§ltst auf Wunsch jederzeit Auskunft oder L√∂schung (siehe <a href="datenschutz.html">Datenschutz</a>).</p>
    </form>
  </section>

  <!-- PANEL: ALLGEMEINER KONTAKT -->
  <section class="card" id="panel-kontakt" role="tabpanel" aria-labelledby="tab-kontakt" hidden>
    <h2>üí¨ Allgemeiner Kontakt</h2>
    <p>Fragen, Feedback oder Anliegen? Schreib uns ‚Äì wir antworten in der Regel rasch.</p>

    <form name="kontakt" method="POST" action="/danke.html" data-netlify="true" netlify-honeypot="bot-field">
      <input type="hidden" name="form-name" value="kontakt">
      <input type="hidden" name="Seite" value="Kontakt ‚Äì Allgemeiner Kontakt">
      <p class="visually-hidden"><label>Bitte nicht ausf√ºllen: <input name="bot-field"></label></p>

      <div class="field"><label for="k-name">Name <span class="req">*</span></label>
        <input type="text" id="k-name" name="Name" required placeholder="Dein Name"></div>

      <div class="field"><label for="k-email">E-Mail <span class="req">*</span></label>
        <input type="email" id="k-email" name="E-Mail" required placeholder="du@example.com"></div>

      <div class="field span-2"><label for="k-msg">Nachricht <span class="req">*</span></label>
        <textarea id="k-msg" name="Nachricht" required placeholder="Worum geht‚Äôs?"></textarea></div>

      <div class="span-2 check">
        <input type="checkbox" id="consent-contact" name="Zustimmung Datenschutz" required>
        <label for="consent-contact">
          Ich willige ein, dass meine Angaben zur Beantwortung meiner Nachricht verarbeitet werden. Mehr unter <a href="datenschutz.html" target="_blank" rel="noopener">Datenschutz</a>.
        </label>
      </div>

      <!-- Netlify reCAPTCHA (optional) -->
      <div class="span-2"><div data-netlify-recaptcha="true"></div></div>

      <div class="actions span-2">
        <button type="submit" class="btn">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M2 21l21-9L2 3v7l15 2-15 2v7z"/></svg>
          Nachricht senden
        </button>
        <button type="reset" class="btn secondary">Zur√ºcksetzen</button>
      </div>

      <p class="hint span-2">Hinweis: Deine Daten werden ausschlie√ülich zur Bearbeitung der Anfrage genutzt und nicht an Dritte zu Marketingzwecken weitergegeben.</p>
    </form>
  </section>
</main>

<footer><div class="footer-inner">¬© <span id="jahr"></span> Ortenau liefert</div></footer>

<script>
/* Footer & Drawer */
document.getElementById('jahr').textContent = new Date().getFullYear();
(function(){
  const btn=document.getElementById('menuBtn'),drawer=document.getElementById('drawer'),backdrop=document.getElementById('backdrop');
  function open(){drawer.classList.add('show');drawer.setAttribute('aria-hidden','false');backdrop.hidden=false;requestAnimationFrame(()=>backdrop.classList.add('show'));btn.setAttribute('aria-expanded','true');}
  function close(){drawer.classList.remove('show');drawer.setAttribute('aria-hidden','true');backdrop.classList.remove('show');btn.setAttribute('aria-expanded','false');setTimeout(()=>backdrop.hidden=true,200);}
  btn.addEventListener('click', open); backdrop.addEventListener('click', close);
  window.addEventListener('keydown', e=>{ if(e.key==='Escape') close(); });
})();

/* Tabs */
(function(){
  const tabL=document.getElementById('tab-lokal');
  const tabK=document.getElementById('tab-kontakt');
  const panelL=document.getElementById('panel-lokal');
  const panelK=document.getElementById('panel-kontakt');

  function activate(which){
    const lokal=which==='lokal';
    tabL.classList.toggle('active', lokal); tabL.setAttribute('aria-selected', lokal);
    tabK.classList.toggle('active', !lokal); tabK.setAttribute('aria-selected', !lokal);
    panelL.hidden = !lokal; panelK.hidden = lokal;
  }
  tabL.addEventListener('click', ()=>activate('lokal'));
  tabK.addEventListener('click', ()=>activate('kontakt'));
})();

/* Dropzone */
(function(){
  const dz=document.getElementById('dropzone');
  if(!dz) return;
  const fi=document.getElementById('fileInput');
  const list=document.getElementById('filesList');

  function showFiles(files){
    if(!files || !files.length){ list.textContent=''; return; }
    list.innerHTML = Array.from(files).map(f=>`‚Ä¢ ${f.name} (${Math.round(f.size/1024)} KB)`).join('<br>');
  }

  dz.addEventListener('dragover', e=>{ e.preventDefault(); dz.classList.add('drag'); });
  dz.addEventListener('dragleave', ()=> dz.classList.remove('drag'));
  dz.addEventListener('drop', e=>{
    e.preventDefault(); dz.classList.remove('drag');
    if(e.dataTransfer?.files?.length){
      fi.files = e.dataTransfer.files;
      showFiles(fi.files);
    }
  });
  fi.addEventListener('change', ()=> showFiles(fi.files));
})();

/* Improve mobile keyboard */
document.querySelectorAll('input[type="email"]').forEach(i=>i.setAttribute('inputmode','email'));
document.querySelectorAll('input[type="text"], textarea').forEach(i=>i.setAttribute('autocomplete','on'));
</script>
</body>
</html>
